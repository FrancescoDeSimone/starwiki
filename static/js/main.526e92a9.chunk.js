(this.webpackJsonpstarwiki=this.webpackJsonpstarwiki||[]).push([[0],{118:function(e,t,n){},146:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(34),i=n.n(c),s=(n(118),n(14)),o=n(15),l=n(197),u=n(210),j=n(218),d=n(211),b=n(212),h=n(198),x=n(213),O=n(214),p=n(2),f=function(){var e=Object(s.c)().state;console.log(e);[].concat(Object(o.a)(Object.keys(e).filter((function(t){return""==e[t]}))),["url","created","edited"]).forEach((function(t){return delete e[t]}));return Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(u.a,{position:"static",children:Object(p.jsxs)(j.a,{children:[Object(p.jsx)(d.a,{href:"/starwiki/#/starwiki",style:{color:"white"},children:Object(p.jsx)(l.a,{})}),Object(p.jsx)(b.a,{variant:"h6",component:"div",sx:{flexGrow:1,mx:3},children:e[Object.keys(e)[0]]})]})}),Object(p.jsx)(h.a,{}),Object(p.jsx)(x.a,{maxWidth:"sm",children:Object(p.jsx)(O.a,{sx:{height:"100vh"},children:Object.keys(e).map((function(t){return Object(p.jsxs)("p",{children:[Object(p.jsxs)("span",{style:{fontWeight:"bold"},children:[t.replaceAll("_"," "),": "]})," ",(n=e[t],"object"!=typeof n?n:n.reduce((function(e,t){return e+(t[Object.keys(t)[0]]+" ,")}),"").slice(0,-1))]});var n}))})})]})},m=n(12),g=n(207),w=n(215),v=n(202),y=n(208),k=n(56),S=n.n(k),W=n(94),C=n(209),I=n(206),D=n(205),E=Object(W.a)(),L=function(){var e=a.useState(!1),t=Object(m.a)(e,2),n=t[0],r=t[1],c=Object(s.d)();return Object(p.jsx)(C.a,{theme:E,children:Object(p.jsxs)(x.a,{component:"main",maxWidth:"xs",children:[Object(p.jsx)(h.a,{}),Object(p.jsxs)(O.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(p.jsx)(g.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(p.jsx)(S.a,{})}),Object(p.jsx)(b.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(p.jsxs)(O.a,{component:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget),n=sessionStorage.getItem("username"),a=sessionStorage.getItem("password");t.get("username")==n&&t.get("password")==a?(sessionStorage.setItem("token","123token"),c("/starwiki")):r(!0)},sx:{mt:1},children:[Object(p.jsx)(v.a,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"username",name:"username",autoComplete:"username",autoFocus:!0}),Object(p.jsx)(v.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(p.jsx)(w.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(p.jsx)(y.a,{container:!0,children:Object(p.jsx)(y.a,{item:!0,children:Object(p.jsx)(d.a,{href:"/starwiki/#/signup",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]}),Object(p.jsx)(I.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:n,autoHideDuration:6e3,onClose:function(e,t){"clickaway"!==t&&r(!1)},children:Object(p.jsx)(D.a,{severity:"error",children:"Account not found, please sign up"})})]})})},T=n(40),q=n(92),F=n.n(q),J=n(24),P=n(203),A=n(216),H=n(95),U=function(e){var t=e.children,n=e.value,a=e.index,r=Object(H.a)(e,["children","value","index"]);return Object(p.jsx)(O.a,Object(T.a)(Object(T.a)({role:"tabpanel",hidden:n!==a,id:"full-width-tabpanel-".concat(a),"aria-labelledby":"full-width-tab-".concat(a)},r),{},{children:n===a&&Object(p.jsx)(O.a,{sx:{p:3},children:Object(p.jsx)(b.a,{children:t})})}))},z=n(41),G=n.n(z),M=n(57),N=n(61),Q=n(219),V=n(220),B=n(221),R=n(201),_=n(93),K=function(e){var t;try{t=new URL(e)}catch(n){return!1}return"http:"===t.protocol||"https:"===t.protocol},X=function(e){var t=Object(R.a)("(max-width:450px)"),n=Object(R.a)("(max-width:700px)"),r=Object(R.a)("(max-width:1000px)"),c=a.useState([]),i=Object(m.a)(c,2),l=i[0],u=i[1],j=a.useState(null),d=Object(m.a)(j,2),b=d[0],h=d[1],x=a.useState(""),f=Object(m.a)(x,2),g=f[0],w=f[1],y=function(e){return fetch(e[e.length-1].next).then((function(e){return e.json()})).then((function(e){return h(e),e}))},k=Object(s.d)();return a.useEffect((function(){(function(){var t=Object(N.a)(G.a.mark((function t(){var n,a;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.url+g);case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,u([a]),a.next&&window.visualViewport.width>=window.innerWidth&&y([a]).then((function(e){return y([e])}));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[g]),a.useEffect((function(){null!=b&&u([].concat(Object(o.a)(l),[b]))}),[b]),Object(p.jsxs)(O.a,{children:[Object(p.jsx)(v.a,{sx:{mb:5},fullWidth:!0,id:"standard-basic",label:"Search...",variant:"standard",onChange:function(e){return w("?search=".concat(e.target.value))}}),Object(p.jsx)(_.a,{dataLength:l.reduce((function(e,t){return e+t.count}),0),next:function(){return y(l)},hasMore:l.length>0&&null!=l[l.length-1].next,loader:"",scrollableTarget:"scrollableDiv",children:Object(p.jsx)(Q.a,{cols:t?1:n?2:r?3:4,gap:t||n?2:10,sx:{margin:t||n?0:10},children:l.map((function(e){return e.results.map((function(e,t){return Object(p.jsxs)(V.a,{onClick:function(){return function(e){(function(){var t=Object(N.a)(G.a.mark((function t(){var n,a,r,c,i,s,l;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Object(T.a)({},e),(a=Object.keys(e).filter((function(t){return K(e[t])}))).forEach((function(e){return n[e]=[]})),r=Object(M.a)(a),t.prev=4,r.s();case 6:if((c=r.n()).done){t.next=22;break}return i=c.value,s=e[i].toString().split(","),l=[],t.t0=[],t.t1=Object(o.a)(l),t.next=14,s.map(function(){var e=Object(N.a)(G.a.mark((function e(t){var n,a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:return t.t2=t.sent,t.t3=[t.t2],l=t.t0.concat.call(t.t0,t.t1,t.t3),t.next=19,Promise.all(l.flat());case 19:n[i]=t.sent;case 20:t.next=6;break;case 22:t.next=27;break;case 24:t.prev=24,t.t4=t.catch(4),r.e(t.t4);case 27:return t.prev=27,r.f(),t.finish(27);case 30:return t.abrupt("return",new Promise((function(e,t){return e(n)})));case 31:case"end":return t.stop()}}),t,null,[[4,24,27,30]])})));return function(){return t.apply(this,arguments)}})()().then((function(e){return k("/detail",{state:e})}))}(e)},children:[Object(p.jsx)("img",{src:"https://wallpapercave.com/wp/nHaLQDm.gif?w=248&fit=crop&auto=format",srcSet:"https://wallpapercave.com/wp/nHaLQDm.gif?w=248&fit=crop&auto=format&dpr=2 2x",alt:e[Object.keys(e)[0]],loading:"lazy"}),Object(p.jsx)(B.a,{title:e[Object.keys(e)[0]]})]},t.toString())}))}))})})]})},Y=function(){var e=Object(J.a)(),t=Object(a.useState)(0),n=Object(m.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)({}),o=Object(m.a)(i,2),l=o[0],d=o[1];Object(a.useEffect)((function(){fetch("https://swapi.dev/api").then((function(e){return e.json()})).then((function(e){return d(e)}))}),[l]);var h=Object(s.d)(),x=Object.keys(l),f=Object.values(l);return Object(p.jsxs)(O.a,{sx:{bgcolor:"background.paper"},children:[Object(p.jsx)(u.a,{position:"static",children:Object(p.jsxs)(j.a,{children:[Object(p.jsx)(b.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"StarWiki"}),Object(p.jsx)(w.a,{color:"inherit",onClick:function(){sessionStorage.setItem("token",""),h("login")},children:"Log Out"})]})}),Object(p.jsx)(u.a,{position:"static",children:Object(p.jsx)(P.a,{value:r,onChange:function(e,t){c(t)},indicatorColor:"secondary",textColor:"inherit",variant:"fullWidth","aria-label":"full width tabs example",children:x.map((function(e,t){return Object(p.jsx)(A.a,Object(T.a)({label:e},function(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}(t)),t)}))})}),Object(p.jsx)(F.a,{axis:"rtl"===e.direction?"x-reverse":"x",index:r,onChangeIndex:function(e){c(e)},children:f.map((function(t,n){return Object(p.jsxs)(U,{value:r,index:n,dir:e.direction,children:[" ",Object(p.jsx)(X,{url:t})]})}))})]})},Z=Object(W.a)(),$=function(){var e=Object(s.d)();return Object(p.jsx)(C.a,{theme:Z,children:Object(p.jsxs)(x.a,{component:"main",maxWidth:"xs",children:[Object(p.jsx)(h.a,{}),Object(p.jsxs)(O.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(p.jsx)(g.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(p.jsx)(S.a,{})}),Object(p.jsx)(b.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(p.jsxs)(O.a,{component:"form",noValidate:!0,onSubmit:function(t){t.preventDefault();var n=new FormData(t.currentTarget);sessionStorage.setItem("username",JSON.stringify(n.get("username")).slice(1,-1)),sessionStorage.setItem("password",JSON.stringify(n.get("password")).slice(1,-1)),e("/login")},sx:{mt:3},children:[Object(p.jsxs)(y.a,{container:!0,spacing:2,children:[Object(p.jsx)(y.a,{item:!0,xs:12,children:Object(p.jsx)(v.a,{required:!0,fullWidth:!0,id:"username",label:"username",name:"username",autoComplete:"username"})}),Object(p.jsx)(y.a,{item:!0,xs:12,children:Object(p.jsx)(v.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password"})})]}),Object(p.jsx)(w.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(p.jsx)(y.a,{container:!0,justifyContent:"flex-end",children:Object(p.jsx)(y.a,{item:!0,children:Object(p.jsx)(d.a,{href:"/starwiki/#/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})})},ee=function(){var e=sessionStorage.getItem("token");return""==e||null==e?Object(s.f)([{path:"/signup",element:Object(p.jsx)($,{})},{path:"/login",element:Object(p.jsx)(L,{})},{path:"/",element:Object(p.jsx)(L,{})},{path:"/starwiki",element:Object(p.jsx)(L,{})},{path:"*",element:Object(p.jsx)(L,{})}]):Object(s.f)([{path:"/signup",element:Object(p.jsx)($,{})},{path:"/login",element:Object(p.jsx)(L,{})},{path:"/starwiki",element:Object(p.jsx)(Y,{})},{path:"/detail",element:Object(p.jsx)(f,{})}])},te=n(30);i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(te.a,{children:Object(p.jsx)(ee,{})})}),document.getElementById("root"))}},[[146,1,2]]]);
//# sourceMappingURL=main.526e92a9.chunk.js.map